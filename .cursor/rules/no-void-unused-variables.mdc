---
globs: *.tsx
alwaysApply: false
---
# Never Use `void` to Suppress Unused Variable Warnings

## Context
Using `void` statements to suppress TypeScript unused variable warnings is a dangerous anti-pattern that masks real code quality issues. This hack bypasses proper code analysis and creates technical debt instead of addressing the root cause.

Examples of this anti-pattern:
```typescript
// ❌ FORBIDDEN - Using void to suppress warnings
const unusedVariable = getValue();
void unusedVariable; // Suppress lint warning

// ❌ FORBIDDEN - With comments trying to justify it
const isInputFocused = useState(false);
// Suppress lint warning - isInputFocused is used in ChatInput component
void isInputFocused;
```

This approach:
- **Hides real issues** that should be addressed properly
- **Creates technical debt** by leaving unused code in place
- **Bypasses TypeScript's helpful analysis** designed to catch dead code
- **Makes code harder to maintain** by obscuring actual usage patterns
- **Violates clean code principles** of removing unused code

## Rule
1. **NEVER use `void` statements** to suppress unused variable warnings
2. **NEVER use `void` with variables** to bypass linting rules
3. **Always fix the root cause** instead of suppressing the warning
4. **Remove unused variables** completely if they're not needed
5. **Refactor code** to eliminate the unused variable properly

## Proper Solutions Instead of `void`

### Solution 1: Remove Unused Variables
| ❌ Bad (void suppression) | ✅ Good (remove unused) |
|---|---|
| ```typescript
const [isInputFocused, setIsInputFocused] = useState(false);
// Suppress lint warning
void isInputFocused;
``` | ```typescript
// Simply remove the unused variable
const [, setIsInputFocused] = useState(false);
// OR if setter is also unused, remove entirely
``` |

### Solution 2: Use Underscore Prefix for Intentionally Unused
| ❌ Bad (void suppression) | ✅ Good (underscore prefix) |
|---|---|
| ```typescript
const unusedParam = getParam();
void unusedParam; // Suppress warning
``` | ```typescript
const _unusedParam = getParam(); // Intentionally unused
// OR
const _param = getParam(); // Will be used later
``` |

### Solution 3: Refactor to Actually Use the Variable
| ❌ Bad (void suppression) | ✅ Good (proper usage) |
|---|---|
| ```typescript
const isInputFocused = useState(false);
void isInputFocused; // Not actually using it
``` | ```typescript
// If it's needed, actually use it properly
const [isInputFocused, setIsInputFocused] = useState(false);

// Pass to component that needs it
<ChatInput 
  onFocus={() => setIsInputFocused(true)}
  onBlur={() => setIsInputFocused(false)}
/>
``` |

### Solution 4: Extract Only What's Needed
| ❌ Bad (void suppression) | ✅ Good (destructure properly) |
|---|---|
| ```typescript
const result = useComplexHook();
void result.unusedProperty; // Suppressing unused part
return result.neededProperty;
``` | ```typescript
const { neededProperty } = useComplexHook();
return neededProperty;
``` |

## Real-World Example from Our Codebase

**The Problem:**
```typescript
// ❌ What we wrongly did
const [isInputFocused, setIsInputFocused] = useState(false);
// Suppress lint warning - isInputFocused is used in ChatInput component
void isInputFocused;
```

**The Proper Solution:**
```typescript
// ✅ What we should have done
// Option 1: Remove if truly unused
const [, setIsInputFocused] = useState(false);

// Option 2: Use underscore if intentionally unused for now
const [_isInputFocused, setIsInputFocused] = useState(false);

// Option 3: Actually implement the focus tracking if needed
const [isInputFocused, setIsInputFocused] = useState(false);
// Then properly use it in the component logic
```

## Why This Rule Exists

### Code Quality Issues
- **Dead Code Detection** - TypeScript's unused variable warnings help identify dead code
- **Maintenance Problems** - Unused variables make code harder to understand and maintain
- **Performance Impact** - Unused variables may cause unnecessary computations or memory usage
- **Refactoring Safety** - Unused variables can indicate incomplete refactoring

### Development Best Practices
- **Clean Code Principles** - Remove code that doesn't serve a purpose
- **TypeScript Benefits** - Let the type system help you write better code
- **Code Review Quality** - Reviewers can focus on real issues, not suppressed warnings
- **Team Standards** - Consistent approach to handling unused variables

## Acceptable Alternatives

### For Function Parameters
```typescript
// ✅ Good - Use underscore for intentionally unused parameters
function handleEvent(_event: Event, data: string): void {
  console.log(data);
}

// ✅ Good - Omit parameter name if not used
function handleClick(_: React.MouseEvent): void {
  // Handle click without using event
}
```

### For Destructuring
```typescript
// ✅ Good - Use rest operator to ignore unused properties
const { neededProp, ..._ } = complexObject;

// ✅ Good - Skip unused array elements
const [first, , third] = arrayValues;
```

### For Hook Returns
```typescript
// ✅ Good - Destructure only what you need
const { data } = useQuery(); // Don't destructure error, loading if unused

// ✅ Good - Use underscore for unused parts
const [value, _setValue] = useState(initialValue);
```

## ESLint Configuration

Ensure your ESLint config catches these patterns:

```json
{
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "no-void": "error",
    "@typescript-eslint/no-unused-expressions": "error"
  }
}
```

## Checklist for the Assistant
- [ ] Never suggest using `void` to suppress unused variable warnings
- [ ] Always identify why a variable is unused and address the root cause
- [ ] Suggest removing unused variables completely when possible
- [ ] Recommend underscore prefix for intentionally unused variables
- [ ] Propose refactoring to eliminate the need for unused variables
- [ ] Ensure proper destructuring to avoid unused assignments

## Emergency Exception Process

There are **NO exceptions** to this rule. If you encounter a situation where you think `void` suppression is needed:

1. **STOP** - Do not use `void` suppression
2. **Analyze the root cause** - Why is the variable unused?
3. **Apply proper solution** - Remove, refactor, or mark as intentionally unused
4. **Ask for guidance** if unsure about the best approach

**Remember**: If a variable is truly unused, it should be removed. If it's needed, it should be used properly. There's no middle ground that requires `void` suppression.
description:
globs:
alwaysApply: false
---
